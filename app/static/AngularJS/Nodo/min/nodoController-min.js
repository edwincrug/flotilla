registrationModule.controller("nodoController",function(e,o,n,r,t){e.isLoading=!1,e.idProceso=1,e.perfil=1,e.idUsuario=20,e.idFase=1;var i=function(e,o,n,t){$("#btnEnviar").button("reset"),r.error("Ocurrio un problema")};e.init=function(){e.empleado=n.get("employeeLogged"),t.getFasePermiso(e.idUsuario).success(a).error(i)},e.mostrarNodos=function(o){t.getFasePermiso(e.idUsuario).success(a).error(i)},e.VerOrdenPadre=function(e){location.href="/?id="+e.folioPadre+"&employee=1"},e.VerOrdenHijo=function(e){location.href="/?id="+e.folioHijo+"&employee=1"};var a=function(o,n,r,t){e.listaNodos=o,e.numElements=o.length,setTimeout(function(){$("ul#standard").roundabout({btnNext:".next",btnNextCallback:function(){u(".next")},btnPrev:".prev",btnPrevCallback:function(){u(".prev")},clickToFocusCallback:function(){u(".next")}}),c(e.currentPage)},1)},s=function(){e.currentPage=e.expediente.nodoActual},u=function(o){e.currentPage=$("ul#standard").roundabout("getChildInFocus")+1,0!=e.listaNodos[e.currentPage-1].enabled?c(e.currentPage):(r.warning("El nodo "+e.currentPage+" no est√° disponible para su perfil."),$(o).click())};e.setPage=function(o){0!=o.enabled?(e.currentPage=o.id,c(e.currentPage)):r.warning("Nodo "+e.currentPage+" no disponible para su perfil.")};var c=function(o){$("ul#standard").roundabout("animateToChild",o-1),e.currentNode=e.listaNodos[o-1],d(),g()},d=function(){angular.forEach(e.listaNodos,function(o,n){n==e.currentPage-1?o.active=1:o.active=0}),p()},l=function(o,n,r,t){e.isLoading=!1,e.listaAlertas=o,p()},f=function(o,n,r,a){e.listaDocumentos=o,t.getDocFasePermiso(e.idUsuario,e.idFase).success(l).error(i)},g=function(){e.isLoading=!0,p(),t.getDocFasePermiso(e.idUsuario,e.idFase).success(f).error(i)},p=function(){"$apply"!=e.$root.$$phase&&"$digest"!=e.$root.$$phase&&e.$apply()}});
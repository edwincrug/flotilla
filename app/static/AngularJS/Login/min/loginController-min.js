registrationModule.controller("loginController",function(o,e,r,n,i,t){o.isLoading=!1,o.idProceso=1,o.perfil=1;var c=function(o,e,r,i){$("#btnEnviar").button("reset"),n.error("Ocurrio un problema")};o.init=function(){t.getAll().success(s).error(c),o.empleado=r.get("employeeLogged")};var s=function(e,r,n,i){o.listaRoles=e};o.IniciarSesion=function(){i.login(o.usuario,o.password).success(l).error(c)};var l=function(e,i,t,c){null!=e?(o.empleado=e,r.set("employeeLogged",o.empleado),n.success("Bienvenido "+o.empleado.nombreCompleto),setTimeout(function(){location.href="/busqueda"},3e3)):n.warning("Usuario y/o password incorrecto.")};o.Registro=function(){i.add(o.currentRol.idRol,o.nombre,o.correo,o.contrasena1).success(u).error(c)};var u=function(o,e,r,i){n.info("Hemos registrado su información con éxito."),n.info("Para completar el registro verifique el correo electrónico que le hemos enviado.")};o.SetCurrentRol=function(e){o.currentRol=e}});
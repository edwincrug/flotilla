<link rel="stylesheet" type="text/css" href="../../css/unidad.css" />
<div cg-busy="myPromise" ng-init="init()" resize>
  <div id="contenedor">

    <section id="header">
      <div class="col-xs-9" id="folio">
        {{ 'Serie: ' + unidadHeader.vin }}
      </div>
      <div class="col-xs-3 estatus" id="estatus">
        {{ unidadHeader.estatus }}
      </div>
    </section>
    <section id="image">
      <img id="imageLogo" src="image/logo/integra.png">
    </section>
    <section id="return">
      <button id="btnRegresar" type="button" class="btn btn-default btn-lg" tooltip="Regresar" ng-click="Regresar()"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></button>
    </section>
   <section id="details">
    <div id="row data"> 
      <div class="etiqueta">
        Factura
      </div>
      <div class="texto">
       {{ unidadHeader.factura }}
     </div>
     <div class="etiqueta">
      Tipo
    </div>
    <div class="texto">
     {{ unidadHeader.tipo }}
   </div>
   <div class="etiqueta">
    Marca
  </div>
  <div class="texto">
   {{ unidadHeader.marca }}
 </div>
 <div class="etiqueta">
  Modelo
</div>
<div class="texto">
 {{ unidadHeader.modelo }}
</div>
<div class="etiqueta">
  Motor
</div>
<div class="texto">
 {{ unidadHeader.numeroMotor }}
</div>
<div class="etiqueta">
  Color
</div>
<div class="texto">
 {{ unidadHeader.color }}
</div>
<!--  <hr> -->
<div class="etiqueta">
  Ult. Modificación
</div>
<div class="texto">
 {{ unidadHeader.ultimaModificacion }}
</div>
</div>
</section>
<section id="navigator">
  <ul id="standard">
    <li ng-repeat="nodo in listaNodos">
      <img src=" {{ 'image/icons/' + nodo.imagenFase }} " class="logotipo"/>
      <h4 class="nombre" tooltip="{{ nodo.descripcionFase }}"> {{ nodo.nombreFase }}</h4>
      <h5 class="nombre" ng-hide="nodo.active != 1"> {{ nodo.descripcionFase }}</h5>
      <div class="alerta" ng-hide="{{ nodo.alertas == 0 }}">
        {{ nodo.alertas }}
      </div>
      <div class="numero">
        {{ nodo.idFase }}
      </div>
    </li>
  </ul>
</section>
<section class="control">
  <div id="navigateControl">
    <nav id="navigate">
      <ul class="pagination">
        <li><a class="prev anavigatorNode" tooltip="Nodo Anterior"><span aria-hidden="true">«</span></a></li>
        <li ng-repeat="nodo in listaNodos" ng-class="{ 'active': nodo.active == 1 }"><a ng-click="setPage(nodo)" tooltip="{{ nodo.nombreFase }}" class="anavigatorNode">{{ nodo.idFase }}</a></li>
        <li><a class="next anavigatorNode" tooltip="Siguiente Nodo"><span aria-hidden="true">»</span></a></li>
      </ul>
    </nav>
  </div>
  <hr />
</section>

<section id="detail">
  <div id="infoGral" class="container-fluid"ng-show="currentNode.idFase == 1">
    <h4 align="center">Información General <span class="label label-default">1</span></h4>
    <hr>
        <form class="form-horizontal">              
       <div class="form-group">
           <div ng-show="listaDocumentos[10].permiso == 1">
              <label for="numEconomico" class="control-label col-md-2"> #Econ Int: </label>
             <div class="col-md-2">
              <input type="text" ng-model="listaDocumentos[10].valor" class="form-control" ng-blur="Guardar(listaDocumentos[10].idDocumento, listaDocumentos[10].valor,1)">
              
              <div class="loader">
                <div class="showCtrl" id="loader1"><img src="image/gif/arrows.gif" class="gifLoader"></div>
                <div id="ready1"><span class="glyphicon glyphicon-ok ready" data-toggle="popover" title="Última modificación" data-content="{{listaDocumentos[10].nombreUsuario}}  {{listaDocumentos[10].fechaMod}}  {{listaDocumentos[10].accion}}" ng-hide="listaDocumentos[10].valor == ''" ></span></div>
              </div>
            </div>
           </div>  

          <div ng-show="listaDocumentos[11].permiso == 1">
            <label for="numEconomico2" class="control-label col-md-1"> #Econ Ext: </label>
            <div class="col-md-2">
              <input type="text" ng-model="listaDocumentos[11].valor" class="form-control" ng-blur="Guardar(listaDocumentos[11].idDocumento, listaDocumentos[11].valor,2)">
               <div class="loader">
                <div class="showCtrl" id="loader2"><img src="image/gif/arrows.gif" class="gifLoader" ng-show="listaDocumentos[11].valor == ''"></div>
                <div id="ready2"><span class="glyphicon glyphicon-ok ready" data-toggle="popover" title="Última modificación" data-content="{{listaDocumentos[10].nombreUsuario}}  {{listaDocumentos[11].fechaMod}}  {{listaDocumentos[11].accion}}" ng-hide="listaDocumentos[11].valor == ''" ></span></div>
              </div>
            </div>
          </div>  

          <div ng-show="listaDocumentos[14].permiso == 1">
            <label for="marca" class="control-label col-md-1">Placa: </label>
            <div class="col-md-2">
              <input type="text" ng-model="listaDocumentos[14].valor" class="form-control" ng-blur="Guardar(listaDocumentos[14].idDocumento, listaDocumentos[14].valor,3)">
              <div class="loader">
                <div class="showCtrl" id="loader3"><img src="image/gif/arrows.gif" class="gifLoader" ng-show="listaDocumentos[14].valor == ''"></div>
                <div id="ready3"><span class="glyphicon glyphicon-ok ready" data-toggle="popover" title="Última modificación" data-content="{{listaDocumentos[10].nombreUsuario}}  {{listaDocumentos[14].fechaMod}}  {{listaDocumentos[14].accion}}" ng-hide="listaDocumentos[14].valor == ''" ></span></div>
              </div>
            </div>
          </div>  

        </br>
      </div>
      <div class="form-group">
        <div ng-show="listaDocumentos[19].permiso == 1">
          <label for="modelo" class="control-label col-md-2">GPS: </label>
          <div class="col-md-2">
            <input type="text" ng-model="listaDocumentos[19].valor" class="form-control" ng-blur="Guardar(listaDocumentos[19].idDocumento, listaDocumentos[19].valor,4)">
            <div class="loader">
              <div class="showCtrl" id="loader4"><img src="image/gif/arrows.gif" class="gifLoader" ng-show="listaDocumentos[19].valor == ''"></div>
              <div id="ready4"><span class="glyphicon glyphicon-ok ready" data-toggle="popover" title="Última modificación" data-content="{{listaDocumentos[10].nombreUsuario}}  {{listaDocumentos[19].fechaMod}}  {{listaDocumentos[19].accion}}" ng-hide="listaDocumentos[19].valor == ''" ></span></div>
            </div>
          </div>
        </div>

        <div ng-show="listaDocumentos[20].permiso == 1">
          <label for="dirEntrega" class="control-label col-md-1">Dirección Entrega: </label>
          <div class="col-md-5">
           <textarea class="form-control" ng-model="listaDocumentos[20].valor" rows="3" ng-blur="Guardar(listaDocumentos[20].idDocumento, listaDocumentos[20].valor,5)"></textarea>
           <div class="loader">
            <div class="showCtrl" id="loader5"><img src="image/gif/arrows.gif" class="gifLoader" ng-show="listaDocumentos[20].valor == ''"></div>
            <div id="ready5"><span class="glyphicon glyphicon-ok ready" data-toggle="popover" title="Última modificación" data-content="{{listaDocumentos[10].nombreUsuario}}  {{listaDocumentos[20].fechaMod}}  {{listaDocumentos[20].accion}}" ng-hide="listaDocumentos[20].valor == ''" ></span></div>
          </div>
          </div>          
        </div>        
      </div> 

      <div class="form-group">
        <div ng-show="listaDocumentos[33].permiso == 1">
          <label for="marca" class="control-label col-md-2">Accesorios: </label>
          <div class="col-md-2">
            <button type="button" class="btn btn-default" aria-label="Left Align" ng-click="mostrarAccesorio()">
               <span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
            </button>
          </div>  
        </div>              
      </div> 
   </form>
  </div>

  <div id="doc" class="container-fluid" ng-show="currentNode.idFase==2">
    <h4 align="center">Documentación <span class="label label-default">2</span></h4>
    <hr>
    <form class="form-horizontal">
     <div class="form-group">
        <div ng-show="listaDocumentos[13].permiso == 1" >
          <label for="factura" class="control-label col-md-2">Factura: </label>
          <div class="col-md-1">
          <button type="button" class="btn btn-default" ng-click="verFactura()" >
            <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
          </button>
          </div>
        </div>        
     </div>

     <div class="form-group">   
        <div ng-show="listaDocumentos[22].permiso == 1">
          <label for="poliza" class="control-label col-md-2">Póliza de Seguros: </label>
            <div class="col-md-3">
              <input type="text" id="txtPolizaSeg" class="form-control"/>
            </div>
            <div class="col-md-1">
              <button type="button" class="btn btn-default" ng-click="Cargar()">
            <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
            </button>
          </div>
        </div> 

        <div ng-show="listaDocumentos[23].permiso == 1">
            <label for="permisoEsp" class="control-label col-md-2">Permiso Especial: </label>
            <div class="col-md-3">
              <input type="text" id="txtPermisoEsp" class="form-control"/>
            </div>
            <div class="col-md-1">
              <button type="button" class="btn btn-default" ng-click="Cargar()">
              <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
              </button>
            </div>
        </div>
    </div>
    <div class="form-group">
      <div ng-show="listaDocumentos[12].permiso == 1">
           <label for="placas" class="control-label col-md-2">Placas: </label>
           <div class="col-md-3">
              <input type="text" id="txtPlacas" class="form-control"/>
           </div>
          <div class="col-md-1">
              <button type="button" class="btn btn-default " ng-click="Cargar()" id="buttonPlacas">
              <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
           </button>
              <button type="button" class="btn btn-default" ng-click="verDocumento()" id="placaDoc"> 
              <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
            </button>
          </div>
      </div>
      <div ng-show="listaDocumentos[15].permiso == 1">
          <label for="equipamiento" class="control-label col-sm-2">Equipamiento vehicular: </label>
          <div class="col-md-3">
              <input type="text" id="txtEqupamiento" class="form-control"/>
          </div>
          <div class="col-md-1">
            <button type="button" class="btn btn-default" ng-click="Cargar()">
            <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
          </button>
          <button type="button" class="btn btn-default col-md-1" ng-click="verDocumento()" id="equipamientoDoc" ng-hide="true"> 
            <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
            </button>
          </div>
      </div>
    </div>
    <div class="form-group">
      <div ng-show="listaDocumentos[18].permiso == 1">
          <label for="tarjetaCir" class="control-label col-md-2">Tarjeta de circulación: </label>
          <div class="col-md-3">
              <input type="text" id="txtTarjetaCir" class="form-control"/>
          </div>
          <div class="col-md-1">
            <button type="button" class="btn btn-default" ng-click="Cargar()">
            <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
          </button>
          </div>
      </div>
      
      <div ng-show="listaDocumentos[21].permiso == 1">
          <label for="verificacion" class="control-label col-sm-2">Verificación: </label>
          <div class="col-md-3">
              <input type="text" id="txtVerificacion" class="form-control"/>
          </div>
          <div class="col-md-1">
            <button type="button" class="btn btn-default" ng-click="Cargar()">
            <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
          </button>
          </div>
      </div>
    </div>

    <div class="form-group">
      <div ng-show="listaDocumentos[30].permiso == 1">
          <label for="tenencia" class="control-label col-md-2">Tenencia: </label>
          <div class="col-md-3">
              <input type="text" id="txtTenencia" class="form-control"/>
          </div>
          <div class="col-md-1">
            <button type="button" class="btn btn-default" ng-click="Cargar()">
            <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
          </button>
          </div>
      </div>
    </div>
    </form>
  </div>

  <div is="entrega" class="container-fluid" ng-show="currentNode.idFase==3">
    <h4 align="center">Entrega<span class="label label-default">3</span></h4>
    <hr>
    <form class="form-horizontal">
     <div class="form-group row">
        <div ng-show="listaDocumentos[24].permiso == 1">
           <label for="fecha" class="control-label col-md-2">Fecha de entrega: </label>
           <div class="col-md-2">
            <input type="date" class="form-control">
           </div>
        </div>
        <div ng-show="listaDocumentos[25].permiso == 1">
           <label for="recibidoPor" class="control-label col-md-2"> Recibido por: </label>
          <div class="col-md-2">
            <input type="text" ng-model="listaDocumentos[25].valor" class="form-control" ng-blur="Guardar(listaDocumentos[25].idDocumento, listaDocumentos[25].valor,7)">
            <div class="loader">
              <div class="showCtrl" id="loader7"><img src="image/gif/arrows.gif" class="gifLoader" ng-show="listaDocumentos[25].valor != ''"></div>
              <div id="ready7"><span class="glyphicon glyphicon-ok ready" data-toggle="popover" title="Última modificación" data-content="{{listaDocumentos[10].nombreUsuario}}  {{listaDocumentos[25].fechaMod}}  {{listaDocumentos[25].accion}}" ng-hide="listaDocumentos[25].valor == ''" ></span></div>
            </div>
          </div>
       </div>          
    </br>
    </div>
    <div class="form-group">
      <div ng-show="listaDocumentos[16].permiso == 1">
        <label for="acuseR" class="control-label col-md-2">Acuse de recibo: </label>
         <div class="col-md-3">
          <input type="text" id="txtAcuseR" class="form-control"/>
        </div>
        <button type="button" class="btn btn-default col-md-1" ng-click="Cargar()">
          <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
        </button>
      </div>

      <div ng-show="listaDocumentos[17].permiso == 1">
        <label for="acuseE" class="control-label col-md-2">Acuse de entrega: </label>
         <div class="col-md-3">
          <input type="text" id="txtAcuseE" class="form-control"/>
        </div>
        <button type="button" class="btn btn-default col-md-1" ng-click="Cargar()">
          <span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span>
        </button>
      </div>
      </br>
    </div>
    <div class="row">
       <div class="col-md-3" ng-hide="listaDocumentos.FotoFrente == false" ng-show="listaDocumentos.FotoFrente == true">
        <label for="fotoFrente" class="control-label col-md-1"> Frente: </label>
        <img src="image/car/auto_delantera.jpg" class="autoCuadro" id='fotoFrente' ng-click="Cargar(listaDocumentos[26].idDocumento)">
       </div>
       <div class="col-md-3" ng-hide="listaDocumentos.FotoCostadoDerecho == false" ng-show="listaDocumentos.FotoCostadoDerecho == true">
        <label for="fotoCostado1" class="control-label col-md-1"> Derecha: </label>
        <img src="image/car/auto_derecha.jpg" class="autoRectangulo" id='fotoDerecha' ng-click="Cargar(listaDocumentos[29].idDocumento)">
       </div>
       <div class="col-md-3" ng-hide="listaDocumentos.FotoCostadoIzq == false" ng-show="listaDocumentos.FotoCostadoIzq == true">
        <label for="fotoCostado2" class="control-label col-md-1"> Izquierda: </label>
        <img src="image/car/auto_izquierda.jpg" class="autoRectangulo" id='fotoIzquierda' ng-click="Cargar(listaDocumentos[28].idDocumento)">
       </div>
      <div class="col-md-3" ng-hide="listaDocumentos.FotoTrasera == false" ng-show="listaDocumentos.FotoTrasera == true">
        <label for="fotoTrasera" class="control-label col-md-1"> Trasera: </label>
        <img src="image/car/auto_trasera.jpg" class="autoCuadro" id='fotoTrasera' ng-click="Cargar(listaDocumentos[27].idDocumento)">
      </div>
    </div>        
    </form>
  </div>
</section>

<!--Modal Accesorios-->
<div class="modal fade" tabindex="-1" id="viewAccesorio">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">        
        <h4 class="modal-title">Accesorios</h4>
      </div>
      <div class="modal-body">
        <table>
          <tr>
            <td>
              <label for="gatoUni">Gato de unidad: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxGatoUni" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr>
          <tr>
            <td>
              <label for="tuercaUni">Llave de tuercas de unidad: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxLlaveTuerca" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr> 
          <tr>
            <td>
              <label for="maneral">Maneral de gato: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxManeral" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr> 
          <tr>
            <td>
              <label for="refaccion">Llanta de refacción: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxRefaccion" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr> 
          <tr>
            <td>
              <label for="tapAlfombra">Tapetes de alfombra: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxTapAlfombra" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr> 
          <tr>
            <td>
              <label for="tapPlastico">Tapetes plástico: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxTapPlastico" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr> 
          <tr>
            <td>
              <label for="triSeguridad">Triángulos de seguridad: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxTriSeguridad" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr> 
          <tr>
            <td>
              <label for="birlo">Tuerca y/o birlo de seguridad: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxBirlo" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr>
          <tr>
            <td>
              <label for="cable">Cables pasa corriente: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxCable" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr>
          <tr>
            <td>
              <label for="extintor">Extintor: </label>
            </td>
            <td>
              <input type="checkbox" name="cbxExtintor" class="switch" data-on-text="Si" data-off-text="No">
            </td>
          </tr>
          <tr>
            <td>
              <label for="otroAccesorio">Otro Accesorio: </label>
            </td>
            <td>
              <input id="cbxOtroAcc" type="checkbox" name="cbxOtro" class="switch" data-on-text="Si" data-off-text="No">
            </td>            
          </tr>          
        </table>
        </br>
        <div>
          <textarea id="txtOtroAcc" class="form-control" rows="2"></textarea> 
        </div>              
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" type="button" id="btnCancelarAcc" ng-click="ocultarAccesorio()">Aceptar</button>              
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->  


<script type="text/javascript">
function nodisponible() {
 var scope = angular.element($("#viewerDocs")).scope();
 scope.$apply(function(){
  scope.NoDisponible();
})
}
</script>